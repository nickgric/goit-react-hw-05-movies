{"version":3,"file":"static/js/610.587ac2bd.chunk.js","mappings":"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","sources":["components/MoviesListItem/MoviesListItem.styled.js","components/MoviesListItem/MoviesListItem.jsx","components/MoviesList/MoviesList.styled.js","components/MoviesList/MoviesList.jsx","components/Pagination/Pagination.styled.js","components/Pagination/Pagination.jsx","components/Section/Section.styled.js","components/Section/Section.jsx","components/SearchInput/SearchInput.jsx","pages/Search.jsx","utils/fetchAPI.js","../../src/slugify.ts"],"sourcesContent":["import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const MoviesListItemStyled = styled.li`\n  width: 20%;\n  height: 400px;\n`;\n\nexport const MoviesListItemImgStyled = styled.img`\n  width: 100%;\n`;\n\nexport const MoviesListItemInfoStyled = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n`;\n\nexport const LinkStyled = styled(Link)`\n  height: 100%;\n  width: 100%;\n`;\n","import {\n  MoviesListItemStyled,\n  MoviesListItemImgStyled,\n  MoviesListItemInfoStyled,\n  LinkStyled,\n} from './MoviesListItem.styled';\n\nimport { useLocation } from 'react-router-dom';\n\nimport slugify from 'react-slugify';\n\nexport const MoviesListItem = ({ movie }) => {\n  const { pathname } = useLocation();\n\n  return (\n    <MoviesListItemStyled>\n      <LinkStyled\n        to={`/movies/${slugify(movie.title)}/${movie.id}`}\n        state={{ from: pathname }}\n      >\n        <MoviesListItemImgStyled\n          src={\n            movie.poster_path\n              ? `https://image.tmdb.org/t/p/w600_and_h900_bestv2${movie.poster_path}`\n              : 'https://image.tmdb.org/t/p/w600_and_h900_bestv2/t9S352o0lbpXoaSC2X2T8bghGDa.jpg'\n          }\n          alt={movie.title}\n        />\n        <MoviesListItemInfoStyled>\n          <h3>{movie.title}</h3>\n          <ul>\n            <li>Release: {movie.release_date}</li>\n            <li>Rating: {movie.vote_average}</li>\n          </ul>\n        </MoviesListItemInfoStyled>\n      </LinkStyled>\n    </MoviesListItemStyled>\n  );\n};\n","import styled from 'styled-components';\n\nexport const MoviesListStyled = styled.ul`\n  list-style: none;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  gap: 20px;\n`;\n","import { MoviesListItem } from '../MoviesListItem';\nimport { MoviesListStyled } from './MoviesList.styled';\n\nexport const MoviesList = ({ movies }) => {\n  // console.log(movies);\n  return (\n    <MoviesListStyled>\n      {movies.map(movie => (\n        <MoviesListItem movie={movie} key={movie.id} />\n      ))}\n    </MoviesListStyled>\n  );\n};\n","import styled from 'styled-components';\n\nexport const PaginationContainerStyled = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n`;\n\nexport const PaginationButtonStyled = styled.button`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  height: 20px;\n  font-weight: 800;\n  color: teal;\n\n  border-radius: 10px;\n  border-width: 1px;\n  border-color: #ccc;\n  border-style: solid;\n\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    color: burlywood;\n  }\n`;\n\nexport const PaginationPagesCounterStyled = styled.p`\n  color: navy;\n  font-weight: 600;\n`;\n","import {\n  PaginationContainerStyled,\n  PaginationButtonStyled,\n  PaginationPagesCounterStyled,\n} from './Pagination.styled';\n\nexport const Pagination = ({ page, totalPages, changePage }) => {\n  const clickHandler = ({ target: { name } }) => {\n    switch (name) {\n      case 'start':\n        changePage(1);\n        break;\n      case 'back':\n        changePage(Number(page) - 1);\n        break;\n      case 'forward':\n        changePage(Number(page) + 1);\n        break;\n      case 'finish':\n        changePage(totalPages);\n        break;\n      default:\n        break;\n    }\n  };\n\n  return (\n    <PaginationContainerStyled>\n      <PaginationButtonStyled\n        disabled={Number(page) === 1}\n        onClick={clickHandler}\n        name=\"start\"\n      >\n        first\n      </PaginationButtonStyled>\n      <PaginationButtonStyled\n        disabled={Number(page) === 1}\n        onClick={clickHandler}\n        name=\"back\"\n      >\n        -1\n      </PaginationButtonStyled>\n\n      <PaginationPagesCounterStyled>\n        {page} of {totalPages}\n      </PaginationPagesCounterStyled>\n\n      <PaginationButtonStyled\n        disabled={Number(page) === Number(totalPages)}\n        onClick={clickHandler}\n        name=\"forward\"\n      >\n        +1\n      </PaginationButtonStyled>\n      <PaginationButtonStyled\n        disabled={Number(page) === Number(totalPages)}\n        onClick={clickHandler}\n        name=\"finish\"\n      >\n        last\n      </PaginationButtonStyled>\n    </PaginationContainerStyled>\n  );\n};\n","import styled from 'styled-components';\n\nexport const SectionStyled = styled.section`\n  width: 768px;\n  margin: 0 auto;\n  padding: 0 25px;\n\n  border-radius: 10px;\n  border-color: #ccc;\n  border-style: solid;\n  padding: 30px;\n  box-shadow: 5px 5px 5px 5px #ccc;\n  margin-bottom: 20px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n`;\n\nexport const SectionTitleStyled = styled.h2`\n  font-weight: 800;\n  color: brown;\n`;\n","import { SectionStyled, SectionTitleStyled } from './Section.styled';\n\nexport const Section = ({ children, title }) => {\n  return (\n    <SectionStyled>\n      {title && <SectionTitleStyled>{title}</SectionTitleStyled>}\n      {children}\n    </SectionStyled>\n  );\n};\n","export const SearchInput = ({ changeQuery }) => {\n  const submitHandler = event => {\n    event.preventDefault();\n    if (!event.target.elements.input.value.trim()) {\n      return;\n    }\n    changeQuery(event.target.elements.input.value);\n  };\n\n  return (\n    <form onSubmit={submitHandler}>\n      <input placeholder=\"Type your query\" name=\"input\" />\n      <button>Search</button>\n    </form>\n  );\n};\n","import { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\n\nimport { fetchSearch } from '../utils/fetchAPI';\n\nimport { Section } from '../components/Section';\nimport { MoviesList } from '../components/MoviesList';\nimport { Pagination } from '../components/Pagination';\nimport { SearchInput } from '../components/SearchInput';\n\nconst Search = () => {\n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(1);\n  const [query, setQuery] = useState(null);\n  const [totalPages, setTotalPages] = useState(null);\n\n  const navigate = useNavigate();\n  const params = useParams();\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    fetchSearch(query, page)\n      .then(response => {\n        setMovies(response.data.results);\n        setTotalPages(response.data.total_pages);\n      })\n      .catch(error => error && navigate(`/`));\n  }, [query, page, navigate]);\n\n  useEffect(() => {\n    if (params.page && params.query) {\n      setPage(params.page);\n      setQuery(params.query);\n      return;\n    }\n    if (!params.page && params.query) {\n      setPage(1);\n      setQuery(params.query);\n      return;\n    }\n    if (params.page && !params.query) {\n      setPage(params.page);\n      setQuery('Harry potter');\n      return;\n    }\n  }, [params]);\n\n  const changePage = newPage => {\n    navigate(`/search/${query}/${newPage}`);\n  };\n\n  const changeQuery = newQuery => {\n    setQuery(newQuery);\n    setPage(1);\n    navigate(`/search/${newQuery}/1`);\n  };\n\n  return (\n    <Section title=\"Your movie search engine\">\n      <SearchInput changeQuery={changeQuery} />\n      {movies && query && (\n        <>\n          <MoviesList movies={movies} />\n          <Pagination\n            page={page}\n            totalPages={totalPages}\n            changePage={changePage}\n          />\n        </>\n      )}\n    </Section>\n  );\n};\n\nexport default Search;\n","import axios from 'axios';\n\nconst API_KEY = '020befa6f5b3204d9cdfb69cb3fae25a';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\n// get popular films for main page\n// https://developers.themoviedb.org/3/trending/get-trending\nexport const fetchTrending = async page => {\n  try {\n    const response = await axios(\n      `${BASE_URL}trending/movie/week?api_key=${API_KEY}&page=${page}`\n    );\n\n    return response;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// search films by name\n// https://developers.themoviedb.org/3/search/search-movies\nexport const fetchSearch = async (query, page) => {\n  try {\n    const response = await axios(\n      `${BASE_URL}search/movie?api_key=${API_KEY}&query=${query}&language=en-US&page=${page}&include_adult=false`\n    );\n\n    return response;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// get film info\n// https://developers.themoviedb.org/3/movies/get-movie-details\nexport const fetchMovie = async id => {\n  try {\n    const response = await axios(\n      `${BASE_URL}movie/${id}?api_key=${API_KEY}&language=en-US`\n    );\n\n    return response;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// get film actors\n// https://developers.themoviedb.org/3/movies/get-movie-credits\nexport const fetchActors = async id => {\n  try {\n    const response = await axios(\n      `${BASE_URL}movie/${id}/credits?api_key=${API_KEY}&language=en-US`\n    );\n\n    return response;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// get film reviews\n// https://developers.themoviedb.org/3/movies/get-movie-reviews\nexport const fetchReviews = async (id, page) => {\n  try {\n    const response = await axios(\n      `${BASE_URL}movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=${page}`\n    );\n\n    return response;\n  } catch (error) {\n    console.error(error);\n  }\n};\n"],"names":["MoviesListItemStyled","styled","MoviesListItemImgStyled","MoviesListItemInfoStyled","LinkStyled","Link","MoviesListItem","movie","pathname","useLocation","to","slugify","title","id","state","from","src","poster_path","alt","release_date","vote_average","MoviesListStyled","MoviesList","movies","map","PaginationContainerStyled","PaginationButtonStyled","PaginationPagesCounterStyled","Pagination","page","totalPages","changePage","clickHandler","target","name","Number","disabled","onClick","SectionStyled","SectionTitleStyled","Section","children","SearchInput","changeQuery","onSubmit","event","preventDefault","elements","input","value","trim","placeholder","useState","setMovies","setPage","query","setQuery","setTotalPages","navigate","useNavigate","params","useParams","useEffect","fetchSearch","then","response","data","results","total_pages","catch","error","newQuery","newPage","API_KEY","BASE_URL","fetchTrending","axios","console","fetchMovie","fetchActors","fetchReviews","ignoreInvalid","fixes","harmonized","toLowerCase","split","reg","RegExp","replacement","a","replace","getSafeRegexpString","accents","safeDelimiter","node","harmonize","delimiter","char","stripAccents","options","prefix","harmonizedPrefix","harmonizedNode","String","Object","keys","length","Array","subNode","props","exports"],"sourceRoot":""}