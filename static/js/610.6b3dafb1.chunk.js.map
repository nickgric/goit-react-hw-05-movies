{"version":3,"file":"static/js/610.6b3dafb1.chunk.js","mappings":"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","sources":["components/MoviesListItem/MoviesListItem.styled.js","components/MoviesListItem/MoviesListItem.jsx","components/MoviesList/MoviesList.styled.js","components/MoviesList/MoviesList.jsx","components/Pagination/Pagination.styled.js","components/Pagination/Pagination.jsx","components/SearchInput/SearchInput.jsx","pages/Search.jsx","utils/fetchAPI.js","../../src/slugify.ts"],"sourcesContent":["import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const MoviesListItemStyled = styled.li`\n  width: 20%;\n  height: 400px;\n`;\n\nexport const MoviesListItemImgStyled = styled.img`\n  width: 100%;\n`;\n\nexport const MoviesListItemInfoStyled = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n`;\n\nexport const LinkStyled = styled(Link)`\n  height: 100%;\n  width: 100%;\n`;\n","import {\n  MoviesListItemStyled,\n  MoviesListItemImgStyled,\n  MoviesListItemInfoStyled,\n  LinkStyled,\n} from './MoviesListItem.styled';\n\nimport { useLocation } from 'react-router-dom';\n\nimport slugify from 'react-slugify';\n\nexport const MoviesListItem = ({ movie }) => {\n  const { pathname } = useLocation();\n\n  return (\n    <MoviesListItemStyled>\n      <LinkStyled\n        to={`/movies/${slugify(movie.title)}/${movie.id}`}\n        state={{ from: pathname }}\n      >\n        <MoviesListItemImgStyled\n          src={\n            movie.poster_path\n              ? `https://image.tmdb.org/t/p/w600_and_h900_bestv2${movie.poster_path}`\n              : 'https://image.tmdb.org/t/p/w600_and_h900_bestv2/t9S352o0lbpXoaSC2X2T8bghGDa.jpg'\n          }\n          alt={movie.title}\n        />\n        <MoviesListItemInfoStyled>\n          <h3>{movie.title}</h3>\n          <ul>\n            <li>Release: {movie.release_date}</li>\n            <li>Rating: {movie.vote_average}</li>\n          </ul>\n        </MoviesListItemInfoStyled>\n      </LinkStyled>\n    </MoviesListItemStyled>\n  );\n};\n","import styled from 'styled-components';\n\nexport const MoviesListStyled = styled.ul`\n  list-style: none;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  gap: 20px;\n`;\n","import { MoviesListItem } from '../MoviesListItem';\nimport { MoviesListStyled } from './MoviesList.styled';\n\nexport const MoviesList = ({ movies }) => {\n  // console.log(movies);\n  return (\n    <MoviesListStyled>\n      {movies.map(movie => (\n        <MoviesListItem movie={movie} key={movie.id} />\n      ))}\n    </MoviesListStyled>\n  );\n};\n","import styled from 'styled-components';\n\nexport const PaginationContainerStyled = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n`;\n\nexport const PaginationButtonStyled = styled.button`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  height: 20px;\n  font-weight: 800;\n  color: teal;\n\n  border-radius: 10px;\n  border-width: 1px;\n  border-color: #ccc;\n  border-style: solid;\n\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    color: burlywood;\n  }\n`;\n\nexport const PaginationPagesCounterStyled = styled.p`\n  color: navy;\n  font-weight: 600;\n`;\n","import {\n  PaginationContainerStyled,\n  PaginationButtonStyled,\n  PaginationPagesCounterStyled,\n} from './Pagination.styled';\n\nexport const Pagination = ({ page, totalPages, changePage }) => {\n  const clickHandler = ({ target: { name } }) => {\n    switch (name) {\n      case 'start':\n        changePage(1);\n        break;\n      case 'back':\n        changePage(Number(page) - 1);\n        break;\n      case 'forward':\n        changePage(Number(page) + 1);\n        break;\n      case 'finish':\n        changePage(totalPages);\n        break;\n      default:\n        break;\n    }\n  };\n\n  return (\n    <PaginationContainerStyled>\n      <PaginationButtonStyled\n        disabled={Number(page) === 1}\n        onClick={clickHandler}\n        name=\"start\"\n      >\n        first\n      </PaginationButtonStyled>\n      <PaginationButtonStyled\n        disabled={Number(page) === 1}\n        onClick={clickHandler}\n        name=\"back\"\n      >\n        -1\n      </PaginationButtonStyled>\n\n      <PaginationPagesCounterStyled>\n        {page} of {totalPages}\n      </PaginationPagesCounterStyled>\n\n      <PaginationButtonStyled\n        disabled={Number(page) === Number(totalPages)}\n        onClick={clickHandler}\n        name=\"forward\"\n      >\n        +1\n      </PaginationButtonStyled>\n      <PaginationButtonStyled\n        disabled={Number(page) === Number(totalPages)}\n        onClick={clickHandler}\n        name=\"finish\"\n      >\n        last\n      </PaginationButtonStyled>\n    </PaginationContainerStyled>\n  );\n};\n","export const SearchInput = ({ changeQuery }) => {\n  const submitHandler = event => {\n    event.preventDefault();\n    if (!event.target.elements.input.value.trim()) {\n      return;\n    }\n    changeQuery(event.target.elements.input.value);\n  };\n\n  return (\n    <form onSubmit={submitHandler}>\n      <input placeholder=\"Type your query\" name=\"input\" />\n      <button>Search</button>\n    </form>\n  );\n};\n","import { useState, useEffect } from 'react';\nimport { useParams, useNavigate, useLocation } from 'react-router-dom';\n\nimport { fetchSearch } from '../utils/fetchAPI';\n\nimport { Section } from '../components/Section';\nimport { MoviesList } from '../components/MoviesList';\nimport { Pagination } from '../components/Pagination';\nimport { SearchInput } from '../components/SearchInput';\n\nconst Search = () => {\n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(1);\n  const [query, setQuery] = useState(null);\n  const [totalPages, setTotalPages] = useState(null);\n\n  const navigate = useNavigate();\n  const location = useLocation();\n  const params = useParams();\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    fetchSearch(query, page)\n      .then(response => {\n        setTotalPages(response.data.total_pages);\n        setMovies(response.data.results);\n      })\n      .catch(error => console.log(error));\n  }, [query, page]);\n\n  useEffect(() => {\n    if (params.page && params.query) {\n      setPage(params.page);\n      setQuery(params.query);\n      return;\n    }\n    if (!params.page && params.query) {\n      setPage(1);\n      setQuery(params.query);\n      return;\n    }\n    if (params.page && !params.query) {\n      setPage(params.page);\n      setQuery('Harry potter');\n      return;\n    }\n  }, [params, totalPages, location]);\n\n  const changePage = newPage => {\n    navigate(`/search/${query}/${newPage}`);\n  };\n\n  const changeQuery = newQuery => {\n    setQuery(newQuery);\n    setPage(1);\n    navigate(`/search/${newQuery}/1`);\n  };\n\n  return (\n    <Section title=\"Your movie search engine\">\n      <SearchInput changeQuery={changeQuery} />\n      {movies && query && (\n        <>\n          <MoviesList movies={movies} />\n          <Pagination\n            page={page}\n            totalPages={totalPages}\n            changePage={changePage}\n          />\n        </>\n      )}\n    </Section>\n  );\n};\n\nexport default Search;\n","import axios from 'axios';\n\nconst API_KEY = '020befa6f5b3204d9cdfb69cb3fae25a';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\n// get popular films for main page\n// https://developers.themoviedb.org/3/trending/get-trending\nexport const fetchTrending = async page => {\n  try {\n    const response = await axios(\n      `${BASE_URL}trending/movie/week?api_key=${API_KEY}&page=${page}`\n    );\n\n    return response;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// search films by name\n// https://developers.themoviedb.org/3/search/search-movies\nexport const fetchSearch = async (query, page) => {\n  try {\n    const response = await axios(\n      `${BASE_URL}search/movie?api_key=${API_KEY}&query=${query}&language=en-US&page=${page}&include_adult=false`\n    );\n\n    return response;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// get film info\n// https://developers.themoviedb.org/3/movies/get-movie-details\nexport const fetchMovie = async id => {\n  try {\n    const response = await axios(\n      `${BASE_URL}movie/${id}?api_key=${API_KEY}&language=en-US`\n    );\n\n    return response;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// get film actors\n// https://developers.themoviedb.org/3/movies/get-movie-credits\nexport const fetchActors = async id => {\n  try {\n    const response = await axios(\n      `${BASE_URL}movie/${id}/credits?api_key=${API_KEY}&language=en-US`\n    );\n\n    return response;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// get film reviews\n// https://developers.themoviedb.org/3/movies/get-movie-reviews\nexport const fetchReviews = async (id, page) => {\n  try {\n    const response = await axios(\n      `${BASE_URL}movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=${page}`\n    );\n\n    return response;\n  } catch (error) {\n    console.error(error);\n  }\n};\n"],"names":["MoviesListItemStyled","styled","MoviesListItemImgStyled","MoviesListItemInfoStyled","LinkStyled","Link","MoviesListItem","movie","pathname","useLocation","to","slugify","title","id","state","from","src","poster_path","alt","release_date","vote_average","MoviesListStyled","MoviesList","movies","map","PaginationContainerStyled","PaginationButtonStyled","PaginationPagesCounterStyled","Pagination","page","totalPages","changePage","clickHandler","target","name","Number","disabled","onClick","SearchInput","changeQuery","onSubmit","event","preventDefault","elements","input","value","trim","placeholder","useState","setMovies","setPage","query","setQuery","setTotalPages","navigate","useNavigate","location","params","useParams","useEffect","fetchSearch","then","response","data","total_pages","results","catch","error","console","log","Section","newQuery","newPage","API_KEY","BASE_URL","fetchTrending","axios","fetchMovie","fetchActors","fetchReviews","ignoreInvalid","fixes","harmonized","toLowerCase","split","reg","RegExp","replacement","a","replace","getSafeRegexpString","accents","safeDelimiter","node","harmonize","delimiter","char","stripAccents","options","prefix","harmonizedPrefix","harmonizedNode","String","Object","keys","length","children","Array","subNode","props","exports"],"sourceRoot":""}