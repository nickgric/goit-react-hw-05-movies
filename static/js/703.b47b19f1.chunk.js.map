{"version":3,"file":"static/js/703.b47b19f1.chunk.js","mappings":"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","sources":["components/MoviesListItem/MoviesListItem.styled.js","components/MoviesListItem/MoviesListItem.jsx","components/MoviesList/MoviesList.styled.js","components/MoviesList/MoviesList.jsx","components/Pagination/Pagination.styled.js","components/Pagination/Pagination.jsx","pages/Tranding.jsx","utils/fetchAPI.js","../../src/slugify.ts"],"sourcesContent":["import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const MoviesListItemStyled = styled.li`\n  width: 20%;\n  height: 400px;\n`;\n\nexport const MoviesListItemImgStyled = styled.img`\n  width: 100%;\n`;\n\nexport const MoviesListItemInfoStyled = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n`;\n\nexport const LinkStyled = styled(Link)`\n  height: 100%;\n  width: 100%;\n`;\n","import {\n  MoviesListItemStyled,\n  MoviesListItemImgStyled,\n  MoviesListItemInfoStyled,\n  LinkStyled,\n} from './MoviesListItem.styled';\n\nimport { useLocation } from 'react-router-dom';\n\nimport slugify from 'react-slugify';\n\nexport const MoviesListItem = ({ movie }) => {\n  const { pathname } = useLocation();\n\n  return (\n    <MoviesListItemStyled>\n      <LinkStyled\n        to={`/movies/${slugify(movie.title)}/${movie.id}`}\n        state={{ from: pathname }}\n      >\n        <MoviesListItemImgStyled\n          src={\n            movie.poster_path\n              ? `https://image.tmdb.org/t/p/w600_and_h900_bestv2${movie.poster_path}`\n              : 'https://image.tmdb.org/t/p/w600_and_h900_bestv2/t9S352o0lbpXoaSC2X2T8bghGDa.jpg'\n          }\n          alt={movie.title}\n        />\n        <MoviesListItemInfoStyled>\n          <h3>{movie.title}</h3>\n          <ul>\n            <li>Release: {movie.release_date}</li>\n            <li>Rating: {movie.vote_average}</li>\n          </ul>\n        </MoviesListItemInfoStyled>\n      </LinkStyled>\n    </MoviesListItemStyled>\n  );\n};\n","import styled from 'styled-components';\n\nexport const MoviesListStyled = styled.ul`\n  list-style: none;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  gap: 20px;\n`;\n","import { MoviesListItem } from '../MoviesListItem';\nimport { MoviesListStyled } from './MoviesList.styled';\n\nexport const MoviesList = ({ movies }) => {\n  // console.log(movies);\n  return (\n    <MoviesListStyled>\n      {movies.map(movie => (\n        <MoviesListItem movie={movie} key={movie.id} />\n      ))}\n    </MoviesListStyled>\n  );\n};\n","import styled from 'styled-components';\n\nexport const PaginationContainerStyled = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n`;\n\nexport const PaginationButtonStyled = styled.button`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  height: 20px;\n  font-weight: 800;\n  color: teal;\n\n  border-radius: 10px;\n  border-width: 1px;\n  border-color: #ccc;\n  border-style: solid;\n\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    color: burlywood;\n  }\n`;\n\nexport const PaginationPagesCounterStyled = styled.p`\n  color: navy;\n  font-weight: 600;\n`;\n","import {\n  PaginationContainerStyled,\n  PaginationButtonStyled,\n  PaginationPagesCounterStyled,\n} from './Pagination.styled';\n\nexport const Pagination = ({ page, totalPages, changePage }) => {\n  const clickHandler = ({ target: { name } }) => {\n    switch (name) {\n      case 'start':\n        changePage(1);\n        break;\n      case 'back':\n        changePage(Number(page) - 1);\n        break;\n      case 'forward':\n        changePage(Number(page) + 1);\n        break;\n      case 'finish':\n        changePage(totalPages);\n        break;\n      default:\n        break;\n    }\n  };\n\n  return (\n    <PaginationContainerStyled>\n      <PaginationButtonStyled\n        disabled={Number(page) === 1}\n        onClick={clickHandler}\n        name=\"start\"\n      >\n        first\n      </PaginationButtonStyled>\n      <PaginationButtonStyled\n        disabled={Number(page) === 1}\n        onClick={clickHandler}\n        name=\"back\"\n      >\n        -1\n      </PaginationButtonStyled>\n\n      <PaginationPagesCounterStyled>\n        {page} of {totalPages}\n      </PaginationPagesCounterStyled>\n\n      <PaginationButtonStyled\n        disabled={Number(page) === Number(totalPages)}\n        onClick={clickHandler}\n        name=\"forward\"\n      >\n        +1\n      </PaginationButtonStyled>\n      <PaginationButtonStyled\n        disabled={Number(page) === Number(totalPages)}\n        onClick={clickHandler}\n        name=\"finish\"\n      >\n        last\n      </PaginationButtonStyled>\n    </PaginationContainerStyled>\n  );\n};\n","import { useState, useEffect } from 'react';\nimport { useParams, useNavigate, useLocation } from 'react-router-dom';\n\nimport { fetchTrending } from '../utils/fetchAPI';\n\nimport { Section } from '../components/Section';\nimport { MoviesList } from 'components/MoviesList';\nimport { Pagination } from '../components/Pagination';\n\nconst Tranding = () => {\n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(null);\n\n  const navigate = useNavigate();\n  const location = useLocation();\n  const params = useParams();\n\n  useEffect(() => {\n    fetchTrending(page).then(response => {\n      setMovies(response.data.results);\n      setTotalPages(response.data.total_pages);\n    });\n  }, [page]);\n\n  useEffect(() => {\n    console.log(totalPages);\n    if (params.page > totalPages) {\n      return;\n    }\n    if (location.pathname === '/tranding') {\n      navigate(`/tranding/2`);\n      return;\n    }\n    if (location.pathname === '/tranding/1') {\n      navigate(`/`);\n      setPage(1);\n      return;\n    }\n    if (params.page) {\n      setPage(params.page);\n      return;\n    }\n    setPage(1);\n  }, [params, totalPages, location, navigate]);\n\n  const changePage = newPage => {\n    navigate(`/tranding/${newPage}`);\n  };\n\n  return (\n    <Section title=\"Tranding movies this week\">\n      {movies && (\n        <>\n          <MoviesList movies={movies} />\n          <Pagination\n            page={page}\n            totalPages={totalPages}\n            changePage={changePage}\n          />\n        </>\n      )}\n    </Section>\n  );\n};\n\nexport default Tranding;\n","import axios from 'axios';\n\nconst API_KEY = '020befa6f5b3204d9cdfb69cb3fae25a';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\n// get popular films for main page\n// https://developers.themoviedb.org/3/trending/get-trending\nexport const fetchTrending = async page => {\n  try {\n    const response = await axios(\n      `${BASE_URL}trending/movie/week?api_key=${API_KEY}&page=${page}`\n    );\n\n    return response;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// search films by name\n// https://developers.themoviedb.org/3/search/search-movies\nexport const fetchSearch = async (query, page) => {\n  try {\n    const response = await axios(\n      `${BASE_URL}search/movie?api_key=${API_KEY}&query=${query}&language=en-US&page=${page}&include_adult=false`\n    );\n\n    return response;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// get film info\n// https://developers.themoviedb.org/3/movies/get-movie-details\nexport const fetchMovie = async id => {\n  try {\n    const response = await axios(\n      `${BASE_URL}movie/${id}?api_key=${API_KEY}&language=en-US`\n    );\n\n    return response;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// get film actors\n// https://developers.themoviedb.org/3/movies/get-movie-credits\nexport const fetchActors = async id => {\n  try {\n    const response = await axios(\n      `${BASE_URL}movie/${id}/credits?api_key=${API_KEY}&language=en-US`\n    );\n\n    return response;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// get film reviews\n// https://developers.themoviedb.org/3/movies/get-movie-reviews\nexport const fetchReviews = async (id, page) => {\n  try {\n    const response = await axios(\n      `${BASE_URL}movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=${page}`\n    );\n\n    return response;\n  } catch (error) {\n    console.error(error);\n  }\n};\n"],"names":["MoviesListItemStyled","styled","MoviesListItemImgStyled","MoviesListItemInfoStyled","LinkStyled","Link","MoviesListItem","movie","pathname","useLocation","to","slugify","title","id","state","from","src","poster_path","alt","release_date","vote_average","MoviesListStyled","MoviesList","movies","map","PaginationContainerStyled","PaginationButtonStyled","PaginationPagesCounterStyled","Pagination","page","totalPages","changePage","clickHandler","target","name","Number","disabled","onClick","useState","setMovies","setPage","setTotalPages","navigate","useNavigate","location","params","useParams","useEffect","fetchTrending","then","response","data","results","total_pages","console","log","newPage","API_KEY","BASE_URL","axios","error","fetchSearch","query","fetchMovie","fetchActors","fetchReviews","ignoreInvalid","fixes","harmonized","trim","toLowerCase","split","reg","RegExp","replacement","a","replace","getSafeRegexpString","accents","safeDelimiter","node","harmonize","delimiter","char","stripAccents","options","prefix","harmonizedPrefix","harmonizedNode","String","Object","keys","length","children","Array","subNode","props","exports"],"sourceRoot":""}